@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==============================================
   FARCASTMINTS DESIGN SYSTEM v1.0
   Base Chain + Farcaster Identity Theme
   ============================================== */

/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Design System CSS Variables */
:root {
  /* Colors - Primary */
  --color-primary-500: #5A61FF;
  --color-primary-600: #4550FF;
  --color-primary-700: #3240FF;
  
  /* Colors - Secondary */
  --color-secondary-500: #805BFF;
  --color-secondary-600: #6A49EB;
  --color-secondary-700: #5939D8;
  
  /* Colors - Base Brand */
  --color-base-blue: #0052FF;
  --color-base-purple: #855DFF;
  --color-base-cyan: #55E5FF;
  
  /* Surface Colors (Dark Theme) */
  --surface-black: #0A0A0F;
  --surface-default: #111118;
  --surface-elevated: #1A1B25;
  --surface-hover: #2A2B36;
  
  /* Text Colors */
  --text-primary: #FFFFFF;
  --text-secondary: #B6B7C3;
  --text-tertiary: #6F7080;
  --text-muted: #4F5060;
  
  /* Border Colors */
  --border-default: #2A2B36;
  --border-light: rgba(255, 255, 255, 0.1);
  --border-focus: #5A61FF;
  
  /* Status Colors */
  --status-success: #30E19F;
  --status-warning: #FFBB44;
  --status-error: #FF5E79;
  --status-info: #55B4FF;
  
  /* Gradients */
  --gradient-brand: linear-gradient(90deg, #0052FF 0%, #805BFF 100%);
  --gradient-hero: linear-gradient(135deg, #1A1B25 0%, #202233 40%, #26283C 100%);
  --gradient-button-shine: linear-gradient(90deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 100%);
  --gradient-card: linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 100%);
  
  /* Typography */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;
  
  /* Spacing (8-point system) */
  --space-xs: 4px;
  --space-s: 8px;
  --space-m: 12px;
  --space-l: 16px;
  --space-xl: 24px;
  --space-2xl: 32px;
  --space-3xl: 48px;
  --space-4xl: 64px;
  
  /* Border Radius */
  --radius-s: 6px;
  --radius-m: 10px;
  --radius-l: 16px;
  --radius-xl: 20px;
  --radius-full: 9999px;
  
  /* Shadows */
  --shadow-soft: 0px 4px 16px rgba(0, 0, 0, 0.25);
  --shadow-card: 0px 6px 24px rgba(0, 0, 0, 0.35);
  --shadow-card-hover: 0px 8px 32px rgba(0, 0, 0, 0.45);
  --shadow-glow: 0px 0px 15px rgba(90, 97, 255, 0.5);
  --shadow-glow-large: 0px 0px 30px rgba(90, 97, 255, 0.4);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.3);
  
  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Legacy variables for backward compatibility */
  --background: 10 10 15;
  --foreground: 255 255 255;
  --card: 17 17 24;
  --card-foreground: 255 255 255;
  --primary: 90 97 255;
  --primary-foreground: 255 255 255;
  --sidebar-width: 72px;
}

/* Base body styles */
body {
  background: var(--surface-black);
  color: var(--text-primary);
  font-family: var(--font-primary);
  transition: background-color var(--transition-slow), color var(--transition-slow);
}

/* Dark mode (default) */
.dark {
  --background: 10 10 15;
  --foreground: 255 255 255;
  --card: 17 17 24;
  --card-foreground: 255 255 255;
  --primary: 90 97 255;
  --primary-foreground: 255 255 255;
}

/* Smooth transitions for theme changes */
* {
  transition-property: background-color, color, border-color, box-shadow;
  transition-duration: var(--transition-slow);
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========================================
   RESPONSIVE NFT GRID - NO LAYOUT SHIFT
   ======================================== */

/* Marketplace grid with aspect-ratio lock */
.nft-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  width: 100%;
}

@media (min-width: 640px) {
  .nft-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .nft-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
}

/* NFT card with locked aspect ratio - prevents CLS */
.nft-card {
  aspect-ratio: 3 / 4;
  overflow: hidden;
  border-radius: 0.75rem;
  position: relative;
}

.nft-card-square {
  aspect-ratio: 1 / 1;
  overflow: hidden;
  border-radius: 0.75rem;
  position: relative;
}

/* Image container with reserved space */
.nft-image-container {
  position: relative;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
}

/* Skeleton loader for images */
.nft-skeleton {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Custom scrollbar for dark mode */
.dark ::-webkit-scrollbar {
  width: 6px;
}

.dark ::-webkit-scrollbar-track {
  background: rgb(30 41 59);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgb(71 85 105);
  border-radius: 3px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgb(100 116 139);
}

/* Smooth transitions for theme switching */
.theme-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Gradient animations */
@keyframes gradient-x {
  0%, 100% { transform: translateX(0%); }
  50% { transform: translateX(-100%); }
}

@keyframes gradient-y {
  0%, 100% { transform: translateY(0%); }
  50% { transform: translateY(-100%); }
}

.animate-gradient-x {
  animation: gradient-x 15s ease infinite;
}

.animate-gradient-y {
  animation: gradient-y 15s ease infinite;
}

/* OnchainKit Custom Theme Integration */
@layer base {
  /* Custom light theme for OnchainKit */
  .custom-light {
    /* Font and Shape */
    --ock-font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    --ock-border-radius: 0.75rem;
    --ock-border-radius-inner: 0.5rem;

    /* Text Colors */
    --ock-text-inverse: #ffffff;
    --ock-text-foreground: #0f172a;
    --ock-text-foreground-muted: #64748b;
    --ock-text-error: #dc2626;
    --ock-text-primary: #2563eb;
    --ock-text-success: #059669;
    --ock-text-warning: #d97706;
    --ock-text-disabled: #94a3b8;

    /* Background Colors */
    --ock-bg-default: #ffffff;
    --ock-bg-default-hover: #f8fafc;
    --ock-bg-default-active: #f1f5f9;
    --ock-bg-alternate: #f8fafc;
    --ock-bg-alternate-hover: #f1f5f9;
    --ock-bg-alternate-active: #e2e8f0;
    --ock-bg-inverse: #0f172a;
    --ock-bg-inverse-hover: #1e293b;
    --ock-bg-inverse-active: #334155;
    --ock-bg-primary: #2563eb;
    --ock-bg-primary-hover: #1d4ed8;
    --ock-bg-primary-active: #1e40af;
    --ock-bg-primary-washed: #dbeafe;
    --ock-bg-primary-disabled: #94a3b8;
    --ock-bg-secondary: #f1f5f9;
    --ock-bg-secondary-hover: #e2e8f0;
    --ock-bg-secondary-active: #cbd5e1;
    --ock-bg-error: #fecaca;
    --ock-bg-warning: #fed7aa;
    --ock-bg-success: #bbf7d0;
    --ock-bg-default-reverse: #0f172a;

    /* Icon Colors */
    --ock-icon-color-primary: #2563eb;
    --ock-icon-color-foreground: #0f172a;
    --ock-icon-color-foreground-muted: #64748b;
    --ock-icon-color-inverse: #ffffff;
    --ock-icon-color-error: #dc2626;
    --ock-icon-color-success: #059669;
    --ock-icon-color-warning: #d97706;

    /* Border Colors */
    --ock-border-line-primary: #2563eb;
    --ock-border-line-default: #e2e8f0;
    --ock-border-line-heavy: #94a3b8;
    --ock-border-line-inverse: #334155;
  }

  /* Custom dark theme for OnchainKit */
  .custom-dark {
    /* Font and Shape */
    --ock-font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    --ock-border-radius: 0.75rem;
    --ock-border-radius-inner: 0.5rem;

    /* Text Colors */
    --ock-text-inverse: #0f172a;
    --ock-text-foreground: #f8fafc;
    --ock-text-foreground-muted: #94a3b8;
    --ock-text-error: #f87171;
    --ock-text-primary: #60a5fa;
    --ock-text-success: #34d399;
    --ock-text-warning: #fbbf24;
    --ock-text-disabled: #475569;

    /* Background Colors */
    --ock-bg-default: #0f172a;
    --ock-bg-default-hover: #1e293b;
    --ock-bg-default-active: #334155;
    --ock-bg-alternate: #1e293b;
    --ock-bg-alternate-hover: #334155;
    --ock-bg-alternate-active: #475569;
    --ock-bg-inverse: #ffffff;
    --ock-bg-inverse-hover: #f8fafc;
    --ock-bg-inverse-active: #f1f5f9;
    --ock-bg-primary: #3b82f6;
    --ock-bg-primary-hover: #2563eb;
    --ock-bg-primary-active: #1d4ed8;
    --ock-bg-primary-washed: #1e3a8a;
    --ock-bg-primary-disabled: #475569;
    --ock-bg-secondary: #334155;
    --ock-bg-secondary-hover: #475569;
    --ock-bg-secondary-active: #64748b;
    --ock-bg-error: #7f1d1d;
    --ock-bg-warning: #92400e;
    --ock-bg-success: #064e3b;
    --ock-bg-default-reverse: #f8fafc;

    /* Icon Colors */
    --ock-icon-color-primary: #60a5fa;
    --ock-icon-color-foreground: #f8fafc;
    --ock-icon-color-foreground-muted: #94a3b8;
    --ock-icon-color-inverse: #0f172a;
    --ock-icon-color-error: #f87171;
    --ock-icon-color-success: #34d399;
    --ock-icon-color-warning: #fbbf24;

    /* Border Colors */
    --ock-border-line-primary: #60a5fa;
    --ock-border-line-default: #475569;
    --ock-border-line-heavy: #64748b;
    --ock-border-line-inverse: #e2e8f0;
  }

}
/* Mini App Optimizations */
@layer utilities {
  /* Minimum touch target size for Mini Apps (44px) */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }

  /* Responsive font sizes for Mini App */
  .text-miniapp-sm {
    font-size: clamp(0.875rem, 2vw, 1rem);
  }

  .text-miniapp-base {
    font-size: clamp(1rem, 2.5vw, 1.125rem);
  }

  .text-miniapp-lg {
    font-size: clamp(1.125rem, 3vw, 1.25rem);
  }

  /* Safe area aware spacing */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile-first grid for NFT cards */
  .miniapp-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(min(100%, 280px), 1fr));
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .miniapp-grid {
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
  }
}

/* NFT Card Grid - OpenSea Style */
.nft-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 16px;
}

@media (min-width: 640px) {
  .nft-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
  }
}

.nft-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease;
}

.dark .nft-card {
  background: #1f2937;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
}

.nft-card:hover {
  transform: scale(1.03);
}

.nft-card img {
  width: 100%;
  height: 160px;
  object-fit: cover;
}

@media (min-width: 640px) {
  .nft-card img {
    height: 250px;
  }
}

.nft-card .info {
  padding: 12px;
  font-size: 14px;
}

/* Prevent zoom on input focus (important for Mini Apps) */
@media (max-width: 768px) {
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* OnchainKit Theme Customization */
@layer base {
  /* Base theme light mode customization */
  [data-ock-theme='base-light'] {
    --ock-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --ock-radius-default: 0.75rem;
    --ock-radius-inner: 0.5rem;
    --ock-primary: #2563eb;
    --ock-primary-hover: #1d4ed8;
    --ock-primary-active: #1e40af;
  }

  /* Base theme dark mode customization */
  [data-ock-theme='base-dark'] {
    --ock-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --ock-radius-default: 0.75rem;
    --ock-radius-inner: 0.5rem;
    --ock-primary: #3b82f6;
    --ock-primary-hover: #2563eb;
    --ock-primary-active: #1d4ed8;
    --ock-background: #0b0b0b;
    --ock-background-alternate: #1a1a1a;
  }

  /* Default theme customization */
  [data-ock-theme='default-light'],
  [data-ock-theme='default-dark'] {
    --ock-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --ock-radius-default: 0.75rem;
  }
}

/* Glassmorphism Utilities */
@layer utilities {
  .glass {
    background: rgba(255, 255, 255, 0.04);
    backdrop-filter: blur(8px) saturate(1.1);
    -webkit-backdrop-filter: blur(8px) saturate(1.1);
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow: 0 6px 24px rgba(4, 6, 12, 0.6);
  }

  .glass-light {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(12px) saturate(1.2);
    -webkit-backdrop-filter: blur(12px) saturate(1.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px rgba(4, 6, 12, 0.4);
  }

  .glass-strong {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(16px) saturate(1.3);
    -webkit-backdrop-filter: blur(16px) saturate(1.3);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 12px 48px rgba(4, 6, 12, 0.5);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px) saturate(1.1);
    -webkit-backdrop-filter: blur(10px) saturate(1.1);
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
}

/* Card Hover Effects */
@layer components {
  .card-hover {
    transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
  }

  .card-hover:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 18px 40px rgba(10, 12, 20, 0.6);
  }

  .card-3d {
    transform-style: preserve-3d;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .card-3d:hover {
    transform: translateY(-12px) rotateX(2deg) rotateY(-2deg) scale(1.03);
    box-shadow: 0 24px 60px rgba(10, 12, 20, 0.7),
                0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .reveal-on-hover {
    position: relative;
    overflow: hidden;
  }

  .reveal-on-hover::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(122, 90, 248, 0.1) 0%, rgba(0, 210, 255, 0.1) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1;
  }

  .reveal-on-hover:hover::before {
    opacity: 1;
  }

  .reveal-on-hover > * {
    position: relative;
    z-index: 2;
  }
}

/* Skeleton Loading Animation */
@layer utilities {
  .skeleton {
    background: linear-gradient(90deg, 
      rgba(255, 255, 255, 0.05) 25%, 
      rgba(255, 255, 255, 0.1) 50%, 
      rgba(255, 255, 255, 0.05) 75%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s ease-in-out infinite;
  }

  @keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
}

/* Image Blur Placeholder */
@layer utilities {
  .blur-load {
    filter: blur(10px);
    transform: scale(1.02);
    transition: filter 0.5s ease, opacity 0.5s ease;
  }

  .blur-load.loaded {
    filter: blur(0);
    transform: scale(1);
  }
}

/* Smooth Reveal Animations */
@layer utilities {
  .fade-in {
    animation: fadeIn 0.4s ease-in;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .slide-up {
    animation: slideUp 0.4s ease-out;
  }

  @keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
}

/* Scroll Snap Utilities */
.snap-container {
  height: 80vh;
  overflow-y: auto;
  scroll-snap-type: y mandatory;
  -webkit-overflow-scrolling: touch;
}

.snap-item {
  scroll-snap-align: start;
  scroll-snap-stop: always;
  margin-bottom: 1.5rem;
}

/* Enhanced Scrollbar Styles */
.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgb(156 163 175);
  border-radius: 3px;
}

.dark .scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgb(75 85 99);
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgb(107 114 128);
}

.dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgb(107 114 128);
}

/* Hide scrollbar for carousel */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Badge glow animation for network and Farcaster badges */
@keyframes glowPulse {
  0% { 
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.0); 
  }
  50% { 
    box-shadow: 0 0 18px 6px rgba(99, 102, 241, 0.12); 
  }
  100% { 
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.0); 
  }
}

.badge-glow {
  animation: glowPulse 2.2s infinite ease-in-out;
}
